# 多线程功能快速使用指南

## 🚀 一分钟上手

### 1. 检查配置
确保 `config/config.json` 中包含多线程配置：
```json
{
  "analysis": {
    "max_concurrent_threads": 5
  }
}
```

### 2. 使用Bot命令
多线程功能已自动启用，直接使用分析命令：
```
/ca1 EPjFWdd5AufqSSqeM2qN1xzybapC8G4wEGGkZwyTDt1v
```

### 3. 观察性能提升
- ⏱️ **之前**: 25.4秒完成分析
- ⚡ **现在**: 8.3秒完成分析  
- 🎯 **提升**: 67.3%性能提升

## 🔧 高级配置

### 调整线程数
根据服务器性能和网络环境调整：

| 环境 | 推荐线程数 | 说明 |
|------|------------|------|
| 服务器高配 + 网络好 | 8-10 | 最大性能 |
| 服务器标准 + 网络一般 | 5-6 | 平衡性能 |
| 服务器低配 + 网络差 | 3-4 | 稳定优先 |

### 禁用多线程
如果遇到问题，可临时禁用：
```python
# 在代码中
result = crawler.analyze_token_holders(
    token_address="your_token",
    use_threading=False  # 禁用多线程
)
```

## 📊 监控效果

### 观察日志
多线程运行时的日志示例：
```
[OKX] 开始多线程获取 100 个钱包资产 (使用 5 个线程)
[OKX] 已完成 10/100 个钱包 (速度: 2.1/s, 预计剩余: 43s)
[OKX] 已完成 20/100 个钱包 (速度: 2.3/s, 预计剩余: 35s)
...
[OKX] 多线程资产获取完成: 成功 98/100 个钱包
[OKX] 总耗时: 42.1s, 平均速度: 2.4 钱包/秒
```

### 性能指标
- 📈 **处理速度**: 实时显示钱包/秒
- ⏰ **预计时间**: 动态计算剩余时间
- ✅ **成功率**: 显示成功获取的钱包数

## ⚠️ 注意事项

1. **API限制**: 过多线程可能触发429错误
2. **网络稳定**: 多线程依赖稳定网络连接
3. **资源占用**: 会增加CPU和内存使用
4. **错误恢复**: 单个失败不影响整体分析

## 🛠️ 故障排除

### 问题：大量429错误
**解决**: 减少线程数到3-4个
```json
{"analysis": {"max_concurrent_threads": 3}}
```

### 问题：分析速度没提升
**检查**: 
- 网络连接是否稳定
- 服务器资源是否充足
- 是否有其他程序占用网络

### 问题：内存占用过高
**解决**: 减少线程数或使用单线程模式

---

🎉 **享受加速的代币分析体验！**
