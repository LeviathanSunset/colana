# 代币大户分析Bot

这是一个Telegram机器人，专注于代币大户持仓分析和价格异动监控。

## 主要功能

### 🔍 代币大户分析 (`/ca1`)
- 分析指定代币的大户持仓分布
- 支持地址集群分析
- 可按不同维度排序查看
- 提供详细的持仓统计信息
- **🚀 多线程加速**: 并发获取钱包资产，大幅提升分析速度

### � Pump监控
- 实时监控代币价格变化
- 自动检测价格异动超过阈值的代币
- 智能过滤和筛选机制
- 及时推送价格预警信息

## 使用方法

### 基本命令

```
/help - 显示帮助信息
/ca1 <代币地址> - 分析指定代币大户持仓
```

### 大户分析功能

使用 `/ca1` 命令可以：
- 获取代币的TOP持有者列表
- 分析持仓集中度和分布
- 查看大户地址详细信息
- 统计持仓比例和数量

使用示例：
```
/ca1 EPjFWdd5AufqSSqeM2qN1xzybapC8G4wEGGkZwyTDt1v
```

### Pump监控功能

系统自动监控：
- 检测价格快速上涨的代币
- 筛选符合条件的项目
- 实时推送价格异动信息
- 智能过滤机制避免垃圾信息

## 功能特点

- **高效分析**: 多线程并发处理，快速获取大户数据
- **智能监控**: 自动检测价格异动，及时推送预警
- **精准过滤**: 智能筛选机制，避免无效信息
- **稳定可靠**: 完善的错误处理和重试机制
- **数据持久化**: 本地存储，避免重复分析
- **资源优化**: 智能缓存和频率控制

## 性能优化

### 多线程加速
- **并发获取**: 使用多线程并发获取钱包资产信息
- **智能调度**: 自动分配任务，最大化资源利用率  
- **速率控制**: 内置频率限制，避免API限制
- **配置灵活**: 可调整并发线程数（默认5个）

### 配置示例
```json
{
  "analysis": {
    "max_concurrent_threads": 5,
    "top_holders_count": 100
  },
  "monitoring": {
    "price_threshold": 10,
    "check_interval": 300
  }
}
```

## 安装和配置

1. 克隆项目
2. 安装依赖：`pip install -r requirements.txt`
3. 配置 `config/config.json`（参考 `config/config.example.json`）
4. 运行：`python main.py`

详细配置说明请参考 `config/config.example.json`。

## 监控和日志

### 系统监控
- **实时状态**: 监控Bot运行状态
- **性能指标**: 跟踪分析速度和成功率
- **错误追踪**: 详细的错误日志和解决方案

### 日志系统
- **主日志**: `storage/logs/模块名_YYYYMMDD.log`
- **错误日志**: `storage/logs/模块名_error_YYYYMMDD.log`
- **数据存储**: `storage/` 目录下的各类数据文件

## 故障排除

### 常见问题和解决方案

**Bot无法启动**
- 检查Telegram Token是否正确
- 确认网络连接正常
- 查看错误日志获取详细信息

**分析功能不可用**
- 检查API服务状态
- 确认代理设置正确
- 验证代币地址格式

**性能问题**
- 调整并发数量
- 检查网络延迟
- 监控系统资源使用

## 注意事项

- 数据文件存储在 `storage/` 目录
- 定期检查日志文件以监控系统状态
- 建议在稳定的网络环境下运行

## 更新日志

### v2.2.0 (2025-08-29) - 当前版本
- 🚀 **多线程大户分析**: 并发获取钱包资产，大幅提升分析速度
- � **智能Pump监控**: 实时检测价格异动，自动筛选优质项目
- ⚡ **性能优化**: 智能速率控制和重试机制
- 🛡️ **稳定可靠**: 完善的错误处理和异常恢复
- 📈 **数据持久化**: 本地缓存避免重复分析