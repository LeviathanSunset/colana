# 代币大户分析Bot

这是一个Telegram机器人，用于分析代币的大户持仓情况和价格变动监控。

## 主要功能

### 🔍 代币大户分析 (`/ca1`)
- 分析指定代币的大户持仓分布
- 支持地址集群分析
- 可按不同维度排序查看
- 提供详细的持仓统计信息

### 🔥 自动Pump分析 (`/capump`) - 新功能
- 自动监控价格异动超过10%的代币
- 对符合条件的代币自动进行大户分析
- 支持启用/关闭自动分析模式
- 智能过滤黑名单代币

### 📊 价格变动监控
- 实时监控代币价格变化
- 自动推送涨幅预警
- 可配置监控阈值和条件

### ⚙️ 配置管理 (`/config`)
- 动态调整监控参数
- 黑名单管理
- 权限控制

## 使用方法

### 基本命令

```
/help - 显示帮助信息
/ca1 <代币地址> - 分析指定代币大户
/capump - 查看自动pump分析状态
/capump on - 启用自动pump分析
/capump off - 关闭自动pump分析
/config - 打开配置界面
```

### 自动Pump分析功能

自动pump分析是新增的功能，可以：
- 自动检测涨幅超过10%的代币
- 自动对这些代币进行大户持仓分析
- 将分析结果发送到群组
- 避免重复分析同一代币
- 智能跳过黑名单代币

启用方法：
```
/capump on
```

关闭方法：
```
/capump off
```

查看状态：
```
/capump
```

## 功能特点

- **智能缓存**: 避免重复分析，提高效率
- **权限控制**: 仅在授权群组中使用
- **黑名单过滤**: 自动跳过黑名单代币
- **多线程处理**: 每个群组独立的分析线程
- **错误恢复**: 网络错误自动重试
- **数据持久化**: 重启后自动恢复分析状态

## 安装和配置

1. 克隆项目
2. 安装依赖：`pip install -r requirements.txt`
3. 配置 `config/config.json`
4. 运行：`python main.py`

详细配置说明请参考 `config/config.example.json`。

## 注意事项

- 自动分析功能会消耗一定的API资源
- 建议合理使用黑名单功能
- 数据文件存储在 `data/` 目录
- 分析状态保存在 `data/auto_pump_status.json`

## 更新日志

### v2.0.0 (最新)
- 新增自动pump分析功能 (`/capump`)
- 支持多群组独立分析
- 增强错误处理和恢复机制
- 优化性能和资源使用

### v1.x.x
- 基础大户分析功能
- 价格监控功能
- 配置管理功能